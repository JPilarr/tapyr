{#- jinja template: wr_nav.jnj -#}
{#
## Copyright (C) 2010 Mag. Christian Tanzer All rights reserved
## Glasauergasse 32, A--1130 Wien, Austria. tanzer@swing.co.at
## ****************************************************************************
## This template is part of the package JNJ.
##
## This template is free software: you can redistribute it and/or modify
## it under the terms of the GNU Affero General Public License as published by
## the Free Software Foundation, either version 3 of the License, or
## (at your option) any later version.
##
## This template is distributed in the hope that it will be useful,
## but WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
## GNU Affero General Public License for more details.
##
## You should have received a copy of the GNU Affero General Public License
## along with this template. If not, see <http://www.gnu.org/licenses/>.
## ****************************************************************************
##
##++
## Name
##    html/cal/wr_nav.jnj
##
## Purpose
##    Macros for displaying a week_roller for navigation
##
## Revision Dates
##     9-Mar-2010 (CT) Creation
##    17-Nov-2010 (CT) `week_day_head` added
##    ««revision-date»»···
##--
#}

{%- macro head (cal) -%}
  {#- Empty `tr` element would be invalid HTML, empty `th` is valid -#}
  <th colspan="9"></th>
{%- endmacro -%} {#- head -#}

{%- macro selected_day_div (cal) -%}
{%- endmacro -%} {#- selected_day_div -#}

{%- macro week_day (cal, week, day) -%}
  {{- day.day -}}
{%- endmacro -%} {#- week_day -#}

{%- macro week_day_events (cal, week, day) -%}
{%- endmacro -%} {#- week_day_events -#}

{%- macro week_day_head (cal, weeks, day, events) -%}
  {%- onion events %}
    {% head -%}
      <a href="{{ cal.day_href (day) }}">
    {%- body -%}
      {{- week_day (cal, week, day) -}}
    {%- tail -%}
      </a>
  {%- endonion -%}
{%- endmacro -%} {#- week_day -#}

{%- macro week_month (cal, week) -%}
  <td class="month-name" title="{{ GTW._T ('Month (for last day of week)') }}">
    {{- GTW._T (week.days [-1].month_abbr) -}}
  </td>
{%- endmacro -%} {#- week_month -#}

{%- macro week_number (cal, week) -%}
  <th class="week-number" scope="row" title="{{ GTW._T ('Week %2.2d/%s') % (week.number, week.year) }}">
    <a href="{{ cal.week_href (week) }}">{{- "%2.2d" % week.number -}}</a>
  </th>
{%- endmacro -%} {#- week_number -#}

{#- __END__ jinja template: wr_nav.jnj -#}
