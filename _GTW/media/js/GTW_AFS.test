/*
Run this like::
    $ /usr/bin/js -s -f GTW_AFS.test -i

to get an interactive Javascript shell with GTW.js and GTW_AFS.js loaded

*/
load ("GTW.js")
load ("GTW_AFS.js")
load ("GTW_inspect.js")
load ("GTW_jsonify.js")
var f = new $GTW.AFS.Form (
    { $id      : 0
    , children :
        [ { $id       : "1"
          , name      : "PAP.Person"
          , type      : "Entity"
          , children  :
              [ { $id        : "1\.1"
                , name       : "last_name"
                , type       : "Field"
                }
              , { $id        : "1\.2"
                , name       : "first_name"
                , type       : "Field"
                }
              , { $id        : "1\.3"
                , name       : "lifetime"
                , type       : "Fieldset"
                , children   :
                    [ { $id        : "1\.3\.1"
                      , name       : "start"
                      , type       : "Field"
                      }
                    , { $id        : "1\.3\.2"
                      , name       : "finish"
                      , type       : "Field"
                      }
                    ]
                }
              ]
          }
        , { $id       : "2"
          , name      : "SRM.Boat_Type"
          , type      : "Entity"
          , children  :
              [ { $id        : "2\.1"
                , name       : "name"
                , type       : "Field"
                }
              ]
          }
        ]
    }
  , { "1" :
        { pid       : 4711
        , cid       : 42
        , "1\.1"     :
            { init       : "Tanzer" }
        , "1\.2"     :
            { init       : "Christian" }
        , "1\.3"     :
            { "1\.3\.1"  :
                { init   : "1959/09/26" }
            , "1\.3\.2"  :
                { init   : "" }
            }
        }
    , "2" :
        { pid       : 80
        , cid       : 45
        , "2\.1"     :
            { init       : "Laser" }
        }
    }
);
print ("$GTW :\n" + $GTW.inspect.show ($GTW, undefined, 1))
