{# Django template: nested_model_form.html #}
{% comment %}
  ## Copyright (C) 2009 Mag. Christian Tanzer. All rights reserved
  ## Glasauergasse 32, A--1130 Wien, Austria. tanzer@swing.co.at
  ##
  ##++
  ## Name
  ##    nested_model_form_table
  ##
  ## Purpose
  ##    Template rendering a nested form inside a model form as a table
  ##
  ## Revision Dates
  ##    18-Jun-2009 (CT) Creation
  ##    19-Jun-2009 (CT) `formset_tr_head` and `formset_tr_body` factored
  ##    ««revision-date»»···
  ##--
{% endcomment %}
{% load i18n TGL %}
  <fieldset class="{{ formset.css_class|default:"nested-many-2-many-table"}}">
    {% if formset.legend %}<legend>{{ formset.legend }}</legend>{% endif %}
    {{ formset.object_count }}
    <div class="One-Link">
      <table class="Formset-Horizontal">
        <thead>
          {% rrender "formset_tr_body.html" formset=formset.nested_forms.0.formsets.0 %}
        </thead>
        <tbody>
          {% for nested_form in formset.nested_forms %}
            {% for fs in nested_form.formsets %}
              {% rrender "formset_tr_body.html" formset=fs %}
            {% endfor %}
          {% endfor %}
        </tbody>
      </table>
    </div>
  </fieldset>
  <script type="text/javascript">
    jQuery
      ( function ()
          { jQuery
              ( "fieldset.{{ formset.css_class|default:"nested-many-2-many"}}"
              ).nested_many_2_many_setup ();
          }
      )
  </script>
{# __END__ Django template: nested_model_form_table.html #}
