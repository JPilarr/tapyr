{# Django template: nested_model_form.html #}
{% comment %}
  ## Copyright (C) 2009 Martin Glück All rights reserved
  ## Langstrasse 4, 2244 Spannberg, Austria. martin@mangari.org
  ##
  ##++
  ## Name
  ##    nested_model_form
  ##
  ## Purpose
  ##    Template rendering a nested from inside a model form
  ##
  ## Revision Dates
  ##     6-Jun-2009 (MG) Creation
  ##    ««revision-date»»···
  ##--
{% endcomment %}
{% load i18n TGL %}
  <fieldset class="{{ field_group.css_class|default:"nested-many-2-many"}}">
    {% if field_group.legend %}<legend>{{ field_group.legend }}</legend>{% endif %}
    {{ field_group.object_count }}
    <div class="One-Link">
      {% for nested_form in field_group.nested_forms %}
        {% for fs in nested_form.field_groups %}
          <div class="field_group {{ field_group.css_class }}"
             {% if fs.legend %}title="{{ fs.legend }}"{% endif %}
          >
            {% rrender fs.template|default:"field_group_div_seq.html" field_group=fs %}
          </div>
        {% endfor %}
      {% endfor %}
    </div>
  </fieldset>
  <script type="text/javascript">
    jQuery
      ( function ()
          { jQuery
              ( "fieldset.{{ field_group.css_class|default:"nested-many-2-many"}}"
              ).nested_many_2_many_setup ();
          }
      )
  </script>
{# __END__ Django template: nested_model_form.html #}
